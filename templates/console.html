<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-i18n="page_title_console">CoAuthors Advanced Console</title>
    <link rel="stylesheet" href="/static/query_styles.css" />
  </head>
  <body data-style="hotcrp" data-page="console">
    <div class="bg-layer" aria-hidden="true"></div>

    <main class="container">
      <header class="hero">
        <div>
          <h1 data-i18n="hero_console_title">CoAuthors Advanced Console</h1>
          <p data-i18n="hero_console_subtitle">
            For experiments and tuning: configure advanced options for batch coauthor queries.
          </p>
          <div class="page-links">
            <a class="page-link" href="/" data-i18n="nav_user">User Page</a>
            <a class="page-link active" href="/console" data-i18n="nav_console">Advanced Console</a>
            <a class="page-link" href="/bootstrap" data-i18n="nav_bootstrap">Bootstrap Console</a>
          </div>
        </div>

        <div class="top-controls">
          <div class="style-control">
            <label for="style-select" data-i18n="control_style">Style</label>
            <select id="style-select">
              <option value="hotcrp">HotCRP Classic</option>
              <option value="journal">Journal Serif</option>
              <option value="nordic">Nordic Light</option>
              <option value="campus">Campus Modern</option>
              <option value="folio">Folio Minimal</option>
              <option value="slate">Slate Pro</option>
            </select>
          </div>

          <div class="style-control">
            <label for="language-select" data-i18n="control_language">Language</label>
            <select id="language-select">
              <option value="en" data-i18n="lang_en">English</option>
              <option value="zh" data-i18n="lang_zh">Chinese</option>
            </select>
          </div>
        </div>
      </header>

      <section class="status-grid">
        <article class="card">
          <h2 data-i18n="status_title">System Status</h2>
          <div class="status-row">
            <span class="label" data-i18n="status_service">Service</span>
            <span id="health-status" class="chip chip-warn" data-i18n="status_checking">Checking</span>
          </div>
          <div class="status-row">
            <span class="label" data-i18n="status_source">Data Source</span>
            <span id="data-source">DBLP</span>
          </div>
          <div class="status-row">
            <span class="label" data-i18n="status_date">Data Date</span>
            <span id="data-date">-</span>
          </div>
        </article>

        <article class="card">
          <h2 data-i18n="stats_title">Data Scale</h2>
          <div class="kpi-row">
            <div class="kpi">
              <span class="kpi-label" data-i18n="stats_publications">Publications</span>
              <strong id="kpi-pubs">-</strong>
            </div>
            <div class="kpi">
              <span class="kpi-label" data-i18n="stats_authors">Authors</span>
              <strong id="kpi-authors">-</strong>
            </div>
          </div>
        </article>
      </section>

      <section class="card">
        <h2 data-i18n="query_title_console">coauthored_pairs Query</h2>
        <p class="hint" data-i18n="query_hint_console">
          If an input contains an organization (e.g., `Yann LeCun (New York University)`), it will be stripped automatically.
        </p>

        <form id="pairs-form" class="pair-form console-form">
          <label>
            <span data-i18n="query_left_console">Left Authors (one per line)</span>
            <textarea
              id="left-authors"
              rows="9"
              data-i18n-placeholder="placeholder_left"
              placeholder="Geoffrey Hinton&#10;Yann LeCun (New York University)"
              required
            ></textarea>
          </label>

          <label>
            <span data-i18n="query_right_console">Right Authors (one per line)</span>
            <textarea
              id="right-authors"
              rows="9"
              data-i18n-placeholder="placeholder_right"
              placeholder="Andrew Y. Ng&#10;Yoshua Bengio (Universite de Montreal)"
              required
            ></textarea>
          </label>

          <label>
            <span data-i18n="query_limit_per_pair">limit_per_pair (optional, empty = unlimited)</span>
            <input id="limit-per-pair" type="number" min="1" data-i18n-placeholder="placeholder_unlimited" placeholder="Unlimited" />
          </label>

          <label>
            <span data-i18n="query_author_limit">author_limit (optional, empty = unlimited)</span>
            <input id="author-limit" type="number" min="1" data-i18n-placeholder="placeholder_unlimited" placeholder="Unlimited" />
          </label>

          <label class="toggle">
            <input id="exact-base-match" type="checkbox" checked />
            <span data-i18n="query_exact_base">exact_base_match = true</span>
          </label>

          <div class="year-slider-group">
            <label>
              <span data-i18n="query_recent_years">Recent Years</span>
              <span class="year-slider-row">
                <input id="year-slider" type="range" min="1" max="30" value="30" />
                <span id="year-slider-label">30</span>
              </span>
            </label>
          </div>

          <label class="switch-toggle">
            <input id="pc-conflict-toggle" type="checkbox" checked />
            <span class="switch-track"></span>
            <span data-i18n="query_pc_conflict">CCS New PC Conflict Check</span>
          </label>

          <button id="run-pairs-btn" type="submit" data-i18n="query_button_console">Run coauthored_pairs</button>
        </form>

        <div id="pairs-loading" class="loading-box" aria-live="polite">
          <span class="spinner" aria-hidden="true"></span>
          <span id="pairs-loading-text" data-i18n="loading_default">Matching...</span>
          <span id="pairs-loading-elapsed"></span>
        </div>

        <p id="pairs-msg" class="msg"></p>

        <h3 data-i18n="matrix_title_console">Matrix</h3>
        <div class="table-wrap">
          <table>
            <thead id="matrix-head"></thead>
            <tbody id="matrix-body"></tbody>
          </table>
        </div>

        <h3 data-i18n="pubs_title_console">Pair Publications</h3>
        <label class="pair-picker">
          <span data-i18n="pair_selector_console">Select Pair</span>
          <select id="pair-selector"></select>
        </label>
        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th data-i18n="table_title">Title</th>
                <th data-i18n="table_year">Year</th>
                <th data-i18n="table_venue">Venue</th>
                <th data-i18n="table_type">Type</th>
              </tr>
            </thead>
            <tbody id="pair-pubs-body"></tbody>
          </table>
        </div>
      </section>

      <footer class="card footer-card">
        <h2 data-i18n="footer_title">Project Information</h2>
        <div class="meta-grid">
          <div class="meta-row">
            <span data-i18n="footer_version_label">Version</span>
            <strong>v{{ app_version }}</strong>
          </div>
          <div class="meta-row">
            <span data-i18n="footer_features_label">Current Features</span>
            <strong data-i18n="footer_features_value">Coauthor matrix, pair publications, metadata output, bootstrap build pipeline.</strong>
          </div>
          <div class="meta-row">
            <span data-i18n="footer_license_label">License</span>
            <strong>MIT</strong>
          </div>
          <div class="meta-row">
            <span data-i18n="footer_visits_label">Visits</span>
            <strong>{{ visit_count }}</strong>
          </div>
          <div class="meta-row">
            <span data-i18n="footer_copyright_label">Copyright</span>
            <strong data-i18n="footer_copyright_value"
              >© 2026 AOSP Lab of Nankai University. All Rights Reserved.</strong
            >
          </div>
        </div>

        <div class="lab-promo">
          <div class="lab-promo-info">
            <h3 data-i18n="lab_name">AOSP Laboratory, Nankai University</h3>
            <p class="lab-slogan" data-i18n="lab_slogan">All-in-One Secure and Privacy</p>
            <p data-i18n-html="lab_advisor_intro">Advisor: Associate Professor <a href="https://lixiang521.com/" target="_blank" rel="noopener">Xiang Li</a>, College of Cryptology and Cyber Science, Nankai University. Ph.D. from Tsinghua University. Research focuses on network security, protocol security, DNS security, and Internet measurement. Published 32+ papers at top venues (S&amp;P, USENIX Security, CCS, NDSS). Discovered 250+ CVE/CNVD/CNNVD vulnerabilities. 2024 ACM SIGSAC China Excellent Doctoral Dissertation Award. Pwnie Award nominee 2024.</p>
          </div>
          <div class="lab-promo-qrcode">
            <img src="/static/aosp-qrcode.jpg" alt="AOSP Lab QR Code" />
            <span data-i18n="lab_qrcode_caption">Follow AOSP Lab</span>
          </div>
        </div>
      </footer>
    </main>

    <script src="/static/query_app.js"></script>
  </body>
</html>
